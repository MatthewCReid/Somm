<!DOCTYPE html>
<html>

<head>
  <title>SOMM</title>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
  <meta charset="utf-8">
  <link rel="icon" type="img/ico" href="photos/small-logo.png">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <style>
    #map {
      height: 65%;
      width: 80%;
      margin: auto;
      
    }
    html,
    body {
      background-color: #482961;
      height: 100%;
      margin: 0;
      padding: 0;
    }
  </style>
  <link href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">
  <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"> </script>
  <link href="https://fonts.googleapis.com/css?family=Bungee" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular.min.js"></script>
  <link rel="stylesheet" href="/styles/style.css" />
  <script>
    // This example requires the Places library. Include the libraries=places
    // parameter when you first load the API. For example:
    // <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&libraries=places">

    var map;
    var infowindow;

    function initMap() {
      var pyrmont = { lat: 29.968021, lng: -90.05899099999999 };

      map = new google.maps.Map(document.getElementById('map'), {
        center: pyrmont,
        zoom: 15
      });

      var request = {
        location: pyrmont,
        radius: '500',
        query: 'wine store'
      };

      service = new google.maps.places.PlacesService(map);
      service.textSearch(request, callback);
    }

    function callback(results, status) {
      if (status == google.maps.places.PlacesServiceStatus.OK) {
        for (var i = 0; i < results.length; i++) {
          var place = results[i];
          createMarker(results[i]);
        }
      }
    }

    function createMarker(place) {
      var placeLoc = place.geometry.location;
      var marker = new google.maps.Marker({
        map: map,
        position: place.geometry.location,
        title: place.name,
        icon: place.image,
      });

      google.maps.event.addListener(marker, 'click', function () {
        infowindow.setContent(place.name);
        infowindow.open(map, this);
      });
    }
  </script>
</head>

<body>
  <div class="container-fluid">
    <nav class="navbar navbar-inverse">
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div width="80%" class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"
            aria-expanded="false"></button>
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          </button>
          <!-- <a class="navbar-brand"><img height=30px src="../photos/small-logo.png"></a> -->
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
            <li>
              <a href="/" ng-click="$ctrl.gohome()">Home</a>
            </li>
            <li>
              <a href="/signup.html" ng-click="$ctrl.gohome()">Create Account</a>
            </li>
            <li>
              <a href="/login.html" ng-click="$ctrl.login()">Login</a>
            </li>
            <!-- TODO: NG CLICK TO DESTROY SESSION -->
            <li>
              <a href='/'>Logout</a>
            </li>
          </ul>
        </div>
        <!-- /.navbar-collapse -->
      </div>
      <!-- /.container-fluid -->
    </nav>
  </div>
  <div>
    <a href="/" ng-click=$ctrl.gohome()>
      <img width="20%" src="../photos/large-logo.png">
    </a>
  </div>
  <br>
  <div id="map"></div>
  <br><br>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBd_Xqb8heicTe-g_UALlO1131GqyoZNLw&libraries=places&callback=initMap"
    async defer></script>
</body>

</html>